<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>playlist test</title>

	<script type="text/javascript" src="/synapse/synapse.js"></script>

	<script type="text/javascript">

	/// SYNAPSE EVENT HANDLERS


	synapse_register("error",function(errortxt)
	{
		$('#error').html(errortxt);
	});	

			
	synapse_register("module_SessionStart",function(msg_src, msg_dst, msg_event, msg)
	{
	});

	
	/// JAVA SCRIPT EVENT HANDLERS
	$(document).ready(function(){
		
		$(".send").click(function()
		{
			var msg=JSON.parse($(this).parent().children(".message").val());
			send(msg[0],msg[1],msg[2]);
			
		});

		$(".slider").slider({ 
			orientation: 'vertical',
			min:0,
			max:255,
			slide: function(event, ui) {
				ui.value
				send(0,"dmx_Set",{
					id:1,
					channel:$(this).attr('_channel'),
					value:ui.value
				});
				
			}
		 
		});

		synapse_register("dmx_Set",function(msg_src, msg_dst, msg_event, msg)
		{
			$("[_channel="+msg["channel"]+"]").slider("option", "value", msg["value"]);
		});
			
	});


	</script>

	<style>
		.slider{
			float:left;
			margin:2em;
		}

 	</style>
</head>


<body>	
<div class='slider' _channel='5'>red</div>
<div class='slider' _channel='7'>green</div>
<div class='slider' _channel='6'>white</div>
<div class='slider' _channel='8'>blue</div>
</body>
</html>

