<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- (C)edwin@datux.nl - released under GPL -->
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>Internet Papier</title>

	<script type="text/javascript" src="/synapse/synapse.js"></script>

	<script>

		//submit value to server
		function submit()
		{
			$("#message").show();
			$("#message").html("Zoeken...");
			send(0,"paper_Check", {
				"objectId":$("#objectId").val(),
			});
		}

		synapse_register("module_SessionStart",function(msg_src, msg_dst, msg_event, msg)
		{

			//submit on click	
			$("#editButton").click(function(m)
			{
				submit();
			});

			//submit on enter
			$('#objectId').keydown(function(e)
			{
				if (e.keyCode==13)
					submit();
			});

			//request new object	
			$("#addButton").click(function(m)
			{
				$("#message").show();
				$("#message").html("Pagina word aangemaakt...");
				send(0,"paper_Create");
			});

			
			$("#objectId").focus();
			
		});

		//we probably created a new object, so go to the editor
		synapse_register("object_Joined",function(msg_src, msg_dst, msg_event, msg)
		{
			document.location="/p/"+msg["objectId"];			
		});

		//the requested paper exists and is accesible, so go to the editor		
		synapse_register("paper_CheckOk",function(msg_src, msg_dst, msg_event, msg)
		{
			$("#message").html("Pagina word ingeladen...");
			document.location="/p/"+msg["objectId"];			
		});

		synapse_register("paper_CheckNotFound",function(msg_src, msg_dst, msg_event, msg)
		{
			$("#message").html("Deze pagina bestaat niet!");
		});
	
	
	</script>


	<style>
		body 
		{
			margin:0;
			padding:0;
			height:100%;
			width:100%;
		} 
		
		a
		{
			border:none;
			text-decoration:none;
		}
		
		img
		{
			border:none;
		}

		.button
		{
			color:#ffffff;
			font-size:2em;
			padding:1em;
			border-size:2px;
			border-color:#aaaaaa;
			border-style:solid;
			width:6em;
			margin-left:5em;
			cursor:pointer;
		}
		
		input
		{
			background-color:#ffff55;
		}
		
		.button:hover
		{
			border-color:yellow;
		}

		.description
		{
			font-size:2em;
			font-style:italic;
		}

		#addBox
		{
			margin-top:2em;
			margin-left:auto;
			margin-right:auto;
			width:40em;
		}

		#addButton
		{
			background-color:green;
		}

		#editBox
		{
			margin-top:3em;
			margin-left:auto;
			margin-right:auto;
			width:40em;
		}


		#editButton
		{
			background-color:blue;
		}

		#message
		{
			display: none;
		}	
		
		#footer
		{
			position:fixed;
			text-align:center;
			left:0;
			right:0;
			bottom:0;
			color:#777777;
			border-top:1px;
			border-color:#777777;
			border-top-style:solid;
		}
		
	</style>
</head>


<body class='ui-widget'>
	<div class='ui-widget-header' style='text-align:center'>
		Welkom bij Internet Papier
	</div>

	<div style='color:red;'>Disclaimer: Internet papier is nog volop in ontwikkeling. Voel u vrij om alvast te testen.</div>

	<div id='addBox'>
		<div class='description'>
			Begin met een schoon papier:
		</div>

		<div class='button' id='addButton'>
			<img src='note_add.png'/>	
			Nieuw...
		</div>
	</div>

	<div id='editBox'>
			<div class='description'>
					Bekijk dit papier nummer: <input size='5' id='objectId'>
			</div>	
			<div class='button' id='editButton'>
				<img src='note_edit.png'/>
				Bekijk...
			</div>
			<br>
			<div class='ui-state-highlight' id='message'>
			</div>
	</div>
	<div id='footer'>
	(C)2010 DatuX - Powered by SYN-3 - <a href='http://www.syn-3.eu'>http://www.syn-3.eu</a> - info@datux.nl
	</div>
	
</body>
</html>
