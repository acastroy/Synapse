<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="json2.js"></script>
	<script type="text/javascript" src="synapse.js"></script>
	<script type="text/javascript">

		synapse_register("error",function(errortxt)
		{
			$('#error').html(errortxt);
		});
	
				
		synapse_register("default",function(msg_src, msg_dst, msg_event, msg)
		{
			s="from:"+ msg_src+ " to:" + msg_dst + " event:"+msg_event+" params:"+JSON.stringify(msg); 
			$('#event').html(s);
		});
	
// 		synapse_register("test_Message",function(msg_src, msg_dst, msg_event, msg)
// 		{
// 			$('#counter').html(msg["counter"]);
// 	//		send(0,"testjava","blaat");
// 		});

		$(document).ready(function(){

			$('#start').click(function(event){
				send(0,"test","bla");
			});

		});


	</script>
</head>


<body>
<p>
	Last error:
	<div id='error' style='color: red'></div>
	
	Last event:
	<div id='event'></div>

	Counter test:
	<div id='counter'></div>

	Status:
	<div id='status'></div>

	<input type='submit' value='Stop polling' id='stop'>
	<input type='submit' value='Start polling' id='start'>

<form>
  <div><input type="text" name="a" value="1" id="a" /></div>
  <div><input type="text" name="b" value="2" id="b" /></div>
  <div><input type="hidden" name="c" value="3" id="c" /></div>
  <div>
    <textarea name="d" rows="8" cols="40">4</textarea>
  </div>
  <div><select name="e">
    <option value="5" selected="selected">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
  </select></div>
  <div>
    <input type="checkbox" name="f" value="8" id="f" />
  </div>
  <div>
    <input type="submit" name="g" value="Submit" id="g" />
  </div>
</form>


</body>

</html>

<script >
$('form').submit(function() {
  alert($(this).serializeArray());
  return false;
});

</script>